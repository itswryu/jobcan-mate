# Jobcan Mate 사용자 가이드

## 1. 소개

**Jobcan Mate에 오신 것을 환영합니다!**

Jobcan Mate는 여러분의 Jobcan 출퇴근 기록을 자동화하여 일상적인 반복 작업을 줄여주는 웹 애플리케이션입니다. 이 가이드는 Jobcan Mate의 다양한 기능을 효과적으로 사용하는 방법을 안내합니다.

**주요 기능:**

*   **Google 계정 로그인**: 간편하고 안전한 Google OAuth2.0을 통한 싱글 사인온(SSO)을 지원합니다.
*   **자동 출퇴근 스케줄링**: 설정한 시간에 맞춰 자동으로 Jobcan에 출근 및 퇴근 기록을 수행합니다.
*   **Jobcan 연동**: Jobcan 계정 정보를 안전하게 저장하고 자동화 작업을 실행합니다.
*   **Telegram 알림**: 자동 출퇴근 결과, 오류 발생, 연차로 인한 작업 건너뜀 등의 상황을 Telegram 메시지로 알려줍니다.
*   **Google Calendar (ICS) 연동**: Google Calendar의 ICS 링크를 통해 연차 또는 휴일을 인식하여 해당 날짜에는 자동 출퇴근 기록을 건너뜁니다.

## 2. 시작하기

### 2.1. 로그인

Jobcan Mate는 Google 계정을 통한 간편 로그인을 지원합니다.

1.  애플리케이션의 로그인 페이지에 접속합니다.
2.  페이지 중앙의 **"Google 계정으로 로그인"** 버튼을 클릭합니다.
3.  Google 계정 선택 및 인증 과정을 완료합니다.

### 2.2. 첫 로그인 시

Jobcan Mate에 처음 로그인하면, 서비스 이용에 필요한 기본 설정을 위해 **설정 페이지**로 자동으로 이동됩니다. 여기서 Jobcan 계정 정보, Telegram 알림 설정 등을 입력해야 합니다.

## 3. 설정 페이지 개요

로그인 후 가장 먼저 보게 되는 페이지는 **설정 페이지**입니다. 이 페이지에서 Jobcan Mate의 모든 자동화 기능과 알림을 개인에 맞게 설정할 수 있습니다.

설정 페이지는 다음과 같은 탭으로 구성되어 있습니다:

*   **Jobcan 연동**: Jobcan 계정 정보 및 관련 설정을 입력합니다.
*   **Telegram 연동**: Telegram 알림을 받기 위한 설정을 합니다.
*   **출퇴근 시간**: 자동 출퇴근 시간을 설정합니다.
*   **연차 캘린더**: Google Calendar (ICS)를 연동하여 휴일을 관리합니다.
*   **일반 설정**: 테스트 모드, 알림 활성화 등 전반적인 설정을 합니다.

## 4. 설정 구성하기

**중요**: 각 탭에서 설정을 변경한 후에는 페이지 하단의 **"설정 저장"** 버튼을 반드시 클릭해야 변경 사항이 적용됩니다.

### 4.1. Jobcan 연동 탭

*   **Jobcan 아이디 (이메일)**: Jobcan에 로그인할 때 사용하는 이메일 주소 또는 아이디를 입력합니다.
*   **Jobcan 비밀번호**: Jobcan 로그인 비밀번호를 입력합니다.
    *   **주의**: 이 필드는 비밀번호를 처음 설정하거나 변경할 때만 입력합니다. 이미 비밀번호가 저장되어 있고 변경을 원치 않는 경우, 이 필드를 비워두면 기존 비밀번호가 유지됩니다.
    *   비밀번호는 데이터베이스에 **암호화되어 저장**됩니다.
*   **Jobcan ADIT (타각) 코드**: Jobcan에서 특정 그룹이나 위치에 대한 타각 코드가 필요한 경우 입력합니다. (선택 사항)
*   **Jobcan 연결 테스트**: 입력한 Jobcan 정보로 실제 로그인을 시도하여 정상적으로 연결되는지 테스트합니다. (현재 이 기능은 자리표시자이며, 실제 테스트 로직은 추후 구현될 수 있습니다.)

### 4.2. Telegram 연동 탭

*   **Telegram Chat ID**: Telegram 봇으로부터 알림을 받을 개인 Chat ID를 입력합니다.
    *   Chat ID는 Telegram에서 `@userinfobot`과 같은 봇에게 `/start` 메시지를 보내면 확인할 수 있습니다.
*   **Telegram Bot Token**: 알림을 보낼 **사용자 본인의 Telegram 봇 토큰**을 입력합니다.
    *   **왜 내 봇 토큰이 필요한가요?**: Jobcan Mate는 사용자가 직접 생성한 봇을 통해 알림을 전송합니다. 이는 알림의 출처를 명확히 하고, 사용자가 알림 설정을 완전히 제어할 수 있도록 하기 위함입니다.
    *   봇 토큰은 Telegram에서 `@BotFather`에게 말을 걸어 새 봇을 생성하면 받을 수 있습니다.
    *   이 정보 또한 데이터베이스에 **암호화되어 저장**됩니다.
*   **Telegram 연결 테스트**: 입력한 Chat ID와 Bot Token으로 테스트 메시지를 전송하여 설정이 올바른지 확인합니다. (현재 이 기능은 자리표시자이며, 실제 테스트 로직은 추후 구현될 수 있습니다.)

### 4.3. 출퇴근 시간 탭

*   **출근 시간**: 자동 출근 기록을 원하는 기본 시간을 설정합니다. (예: "09:00")
*   **퇴근 시간**: 자동 퇴근 기록을 원하는 기본 시간을 설정합니다. (예: "18:00")
*   **출근 타각 지연 (분)**: 설정한 출근 시간에서 얼마나 일찍 또는 늦게 출근 기록을 할지 분 단위로 설정합니다.
    *   음수 값 (예: -10)은 설정된 출근 시간보다 10분 일찍 기록합니다.
    *   양수 값 (예: 5)은 설정된 출근 시간보다 5분 늦게 기록합니다.
    *   0 또는 비워두면 정확히 출근 시간에 기록합니다.
*   **퇴근 타각 지연 (분)**: 설정한 퇴근 시간에서 얼마나 일찍 또는 늦게 퇴근 기록을 할지 분 단위로 설정합니다.
    *   음수 값 (예: -5)은 설정된 퇴근 시간보다 5분 일찍 기록합니다.
    *   양수 값 (예: 15)은 설정된 퇴근 시간보다 15분 늦게 기록합니다.
    *   0 또는 비워두면 정확히 퇴근 시간에 기록합니다.

### 4.4. 연차 캘린더 탭

*   **ICS Calendar URL**: Google Calendar 등에서 제공하는 개인 일정의 ICS 형식 URL을 입력합니다. Jobcan Mate는 이 캘린더를 확인하여 연차/휴일을 판단합니다.
    *   **Google Calendar에서 ICS URL 찾기**: Google Calendar 설정 > 특정 캘린더 선택 > "캘린더 통합" 섹션의 "공개 URL (iCal 형식)" 주소를 사용합니다. (캘린더가 '공개'로 설정되어 있어야 할 수 있습니다. 또는 '비밀 URL (iCal 형식)'을 사용할 수도 있으나, URL 보안에 유의하세요.)
*   **캘린더 연동 활성화**: 이 체크박스를 선택하면 입력된 ICS 캘린더의 일정을 확인하여 연차/휴일에는 자동 출퇴근 기록을 건너뜁니다.

### 4.5. 일반 설정 탭

*   **테스트 모드 활성화**: 이 옵션을 선택하면, Jobcan 자동화 작업이 실제 Jobcan 사이트에 기록을 남기지 않고 시뮬레이션으로만 실행됩니다. 설정이 올바르게 되었는지 확인하고 싶을 때 유용합니다. 실제 기록은 수행되지 않으며, 로그에만 기록됩니다.
*   **알림 활성화**: Telegram을 통한 모든 알림의 수신 여부를 설정하는 마스터 스위치입니다. 이 옵션을 끄면 어떤 알림도 받지 않습니다.
*   **자동 출퇴근 스케줄 활성화**: Jobcan 자동 출퇴근 기능 전체를 켜거나 끕니다. 이 옵션을 끄면 설정된 시간에 자동 작업이 실행되지 않습니다.
*   **사용자 시간대**: 자동 출퇴근 시간 및 기타 시간 관련 계산의 기준이 되는 시간대를 선택합니다. 정확한 자동화를 위해 현재 계신 지역의 시간대를 선택하는 것이 매우 중요합니다.

## 5. 알림 이해하기

설정이 완료되면, Jobcan Mate는 다음과 같은 상황에 Telegram을 통해 알림을 보냅니다:

*   **성공적인 출근/퇴근**: 자동 출퇴근 기록이 정상적으로 완료되었을 때.
*   **Jobcan 자동화 오류**: Jobcan 로그인 실패, 타각 버튼 클릭 실패 등 자동화 과정에서 오류가 발생했을 때.
*   **연차로 인한 자동화 건너뜀**: ICS 캘린더에 등록된 연차/휴일로 인해 예정된 자동 출퇴근 작업이 실행되지 않았을 때.
*   **(향후 기능)** 내일이 연차/휴일임을 미리 알려주는 알림.
*   기타 시스템 관련 알림.

## 6. 문제 해결 / FAQ

*   **Q1: Google 계정으로 로그인이 안 돼요.**
    *   A: 올바른 Google 계정을 사용하고 있는지 확인하세요. 브라우저의 캐시나 쿠키를 삭제한 후 다시 시도해 보세요. 회사 네트워크 등에서 Google 인증 관련 도메인이 차단되지 않았는지 확인하세요.

*   **Q2: Jobcan 자동화가 작동하지 않아요.**
    *   A: 설정 페이지에서 Jobcan 아이디와 비밀번호가 정확한지 다시 한번 확인하세요. "테스트 모드 활성화"가 해제되어 있는지 확인하세요. "자동 출퇴근 스케줄 활성화"가 선택되어 있는지 확인하세요. Jobcan 사이트에 직접 접속하여 계정에 문제가 없는지 (예: 비밀번호 변경 알림, CAPTCHA 등) 확인해 보세요.

*   **Q3: Telegram 알림을 받지 못해요.**
    *   A: 설정 페이지에서 Telegram Chat ID와 Bot Token이 정확한지 확인하세요. "알림 활성화"가 선택되어 있는지 확인하세요. Telegram에서 해당 봇을 차단하지 않았는지, 봇이 활성 상태인지 확인하세요.

*   **Q4: 휴일/근무일에 자동화가 잘못 실행되거나 실행되지 않았어요.**
    *   A: 설정 페이지의 "연차 캘린더" 탭에서 ICS Calendar URL이 정확한지, "캘린더 연동 활성화"가 선택되어 있는지 확인하세요. 캘린더에 연차/휴일 일정이 정확히 반영되어 있는지 확인하세요. 캘린더 변경 사항이 시스템에 반영되기까지는 최대 몇 시간(캐시 TTL에 따라 다름)이 소요될 수 있습니다.

*   **Q5: Telegram Chat ID는 어떻게 얻나요?**
    *   A: Telegram에서 `@userinfobot`을 검색하여 대화를 시작하고, `/start` 명령어를 보내면 본인의 Chat ID를 알려줍니다.

*   **Q6: 나만의 Telegram Bot Token은 어떻게 만드나요?**
    *   A: Telegram에서 `@BotFather`를 검색하여 대화를 시작하세요. `/newbot` 명령어를 입력하고, BotFather의 안내에 따라 봇의 이름과 사용자 이름을 설정하면 새로운 봇 토큰을 발급받을 수 있습니다. 이 토큰을 Jobcan Mate 설정에 사용하세요.

## 7. 보안 및 개인 정보 보호

*   **데이터 암호화**: Jobcan 비밀번호, Telegram Bot Token과 같이 민감한 정보는 데이터베이스에 암호화되어 저장됩니다. 이는 AES-256-GCM과 같은 강력한 암호화 표준을 사용하여 보호됩니다.
*   **Google 계정**: Google 계정의 보안은 사용자의 책임입니다. 2단계 인증 사용 등 Google 계정 보안 강화 조치를 권장합니다.
*   **데이터 사용**: Jobcan Mate는 서비스 제공을 위해 Google 프로필 정보(이메일, 이름 등), 사용자가 입력한 설정 값(암호화된 자격 증명 포함), ICS 캘린더 URL 등을 저장합니다. 이 데이터는 Jobcan 자동화 및 알림 기능 수행 목적으로만 사용됩니다.

## 8. 로그아웃

Jobcan Mate에서 로그아웃하려면, 설정 페이지 우측 상단에 있는 **"로그아웃"** 버튼을 클릭하세요. 로그아웃 후에는 다시 로그인 페이지로 이동됩니다.

---

이 가이드가 Jobcan Mate를 사용하는 데 도움이 되기를 바랍니다. 문제가 발생하거나 추가적인 질문이 있다면 관리자에게 문의하세요.
